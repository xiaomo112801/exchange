<script setup lang="ts">
import BaseTabs from '@/components/BaseTabs.vue'

// ä»çˆ¶çº§æ¥æ”¶å¸ç§åŸºç¡€ä¿¡æ¯ï¼ˆå›¾æ ‡ç­‰ï¼‰ï¼Œç”¨äºæ ‡é¢˜åŒºå±•ç¤º
const { coinData } = defineProps<{
  coinData: {
    icon: string
  }
}>()

// æ¦‚å†µé¡µå­æ ‡ç­¾ï¼ˆç›®å‰åªä¿ç•™â€œå¸ç§ä¿¡æ¯â€ï¼‰
const overviewTabIndex = ref(0)
const overviewTabList = ref([
  { title: 'å¸ç§ä¿¡æ¯' },
  // { title: 'åˆçº¦ä¿¡æ¯' },
  // { title: 'ä»“ä½æ¡£ä½' },
  // { title: 'èµ„é‡‘è´¹ç‡å†å²' },
])

// å¸ç§è¯¦ç»†ä¿¡æ¯ï¼ˆç¤ºä¾‹æ•°æ®ï¼Œå®é™…åº”ä»APIè·å–ï¼‰
const coinDetailInfo = computed(() => ({
  name: 'Bitcoin',
  code: 'BTC',
  rank: 1,
  marketCap: '12.71ä¸‡äº¿',
  fullyDilutedMarketCap: '13.37ä¸‡äº¿',
  tradingVolumeToMarketCap: '3.00%',
  marketShare: '58.65%',
  circulatingSupply: '1,995.95ä¸‡',
  maxSupply: '2,100.00ä¸‡',
  totalSupply: '1,995.95ä¸‡',
  issueDate: '2010-07-13',
  historicalHigh: { price: 'Â¥892,435.14', date: '2025-10-07' },
  historicalLow: { price: 'Â¥0.34', date: '2010-07-15' },
  description: 'BTCæ˜¯ç›®å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§æ•°å­—è´§å¸,å®ƒè¯ç”Ÿäº2009å¹´1æœˆ3æ—¥,æ˜¯ä¸€ç§ç‚¹å¯¹ç‚¹(P2P)ä¼ è¾“çš„æ•°å­—åŠ å¯†è´§å¸,æ€»é‡2100ä¸‡æšã€‚æ¯”ç‰¹å¸ç½‘ç»œæ¯10åˆ†é’Ÿé‡Šæ”¾å‡ºä¸€å®šæ•°é‡å¸,é¢„è®¡åœ¨2140å¹´è¾¾åˆ°æé™ã€‚æ¯”ç‰¹å¸è¢«æŠ•èµ„ä¸º"æ•°å­—é»„é‡‘"ã€‚æ¯”ç‰¹å¸ä¾æ®ç‰¹å®šç®—æ³•,é€šè¿‡å¤§é‡çš„äº§ç”Ÿ,ä¸ä¾é ç‰¹å®šè´§å¸æœºæ„å‘è¡Œ,å…¶ä½¿ç”¨æ•´ä¸ªP2Pç½‘ç»œä¸­ä¼—å¤šèŠ‚ç‚¹æ„æˆçš„åˆ†å¸ƒå¼æ•°æ®åº“æ¥ç¡®è®¤å¹¶è®°å½•æ‰€æœ‰çš„äº¤æ˜“è¡Œä¸º,å¹¶ä½¿ç”¨å¯†ç å­¦è®¾è®¡ç¡®ä¿è´§å¸æµé€šå„ä¸ªç¯èŠ‚å®‰å…¨æ€§,å¯ç¡®ä¿æ— æ³•é€šè¿‡å¤§é‡åˆ¶é€ æ¯”ç‰¹å¸æ¥äººä¸ºæ“æ§å¸å€¼ã€‚åŸºäºå¯†ç å­¦çš„è®¾è®¡å¯ä»¥ä½¿æ¯”ç‰¹å¸åªèƒ½è¢«çœŸå®æ‹¥æœ‰è€…è½¬ç§»ã€æ”¯ä»˜åŠå…‘ç°ã€‚åŒæ ·ç¡®ä¿äº†è´§å¸æ‰€æœ‰æƒä¸æµé€šäº¤æ˜“çš„åŒ¿åæ€§ã€‚',
  officialLinks: [
    { name: 'å®˜ç½‘', icon: 'ğŸŒ', url: 'https://bitcoin.org' },
    { name: 'ç™½çš®ä¹¦', icon: 'ğŸ“„', url: 'https://bitcoin.org/bitcoin.pdf' },
    { name: 'Github', icon: 'ğŸ’»', url: 'https://github.com/bitcoin' },
    { name: 'åŒºå—æµè§ˆå™¨', icon: 'ğŸ”', url: 'https://blockchain.info' },
  ],
  socialLinks: [
    { name: 'Reddit', icon: 'ğŸ’¬', url: 'https://reddit.com/r/bitcoin' },
  ],
}))
</script>

<template>
  <view class="min-h-[calc(100vh-200px)] bg-white">
    <!-- å­æ ‡ç­¾ -->

    <!-- å¸ç§ä¿¡æ¯å­æ ‡ç­¾å†…å®¹ -->
    <view class="pb-8">
      <!-- å¸ç§æ ‡é¢˜ï¼ˆç¼©å°å°ºå¯¸ï¼Œå‡å°ä¸ä¸‹æ–¹é—´è·ï¼‰ -->
      <view class="flex items-center gap-1 border-b border-gray-200 py-2">
        <image :src="coinData.icon" class="h-6 w-6" mode="aspectFit" />
        <wd-text :text="`${coinDetailInfo.name} ${coinDetailInfo.code}`" size="16px" color="#000" :bold="true" />
      </view>

      <!-- å¸ç§è¯¦ç»†ä¿¡æ¯ -->
      <view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="æ’å" size="14px" color="#666" />
          <wd-text :text="`No.${coinDetailInfo.rank}`" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å¸‚å€¼" size="14px" color="#666" />
          <wd-text :text="`Â¥${coinDetailInfo.marketCap}`" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å®Œå…¨ç¨€é‡Šå¸‚å€¼" size="14px" color="#666" />
          <wd-text :text="`Â¥${coinDetailInfo.fullyDilutedMarketCap}`" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="äº¤æ˜“é¢/å¸‚å€¼(24å°æ—¶)" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.tradingVolumeToMarketCap" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å¸‚åœºå æœ‰ç‡" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.marketShare" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="æµé€šä¾›åº”é‡" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.circulatingSupply" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="æœ€å¤§ä¾›åº”é‡" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.maxSupply" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="æ€»ä¾›åº”é‡" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.totalSupply" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å‘è¡Œæ—¥æœŸ" size="14px" color="#666" />
          <wd-text :text="coinDetailInfo.issueDate" size="14px" color="#000" />
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å†å²æœ€é«˜ä»·" size="14px" color="#666" />
          <view class="flex flex-col items-end">
            <wd-text :text="coinDetailInfo.historicalHigh.price" size="14px" color="#000" />
            <wd-text :text="coinDetailInfo.historicalHigh.date" size="12px" color="#999" />
          </view>
        </view>
        <view class="min-h-[24px] flex items-center justify-between border-b border-gray-100 py-3">
          <wd-text text="å†å²æœ€ä½ä»·" size="14px" color="#666" />
          <view class="flex flex-col items-end">
            <wd-text :text="coinDetailInfo.historicalLow.price" size="14px" color="#000" />
            <wd-text :text="coinDetailInfo.historicalLow.date" size="12px" color="#999" />
          </view>
        </view>
      </view>

      <!-- å®˜æ–¹é“¾æ¥ï¼ˆä¿ç•™ï¼Œæ ·å¼è´´è¿‘è¡Œæƒ…è§„èŒƒï¼‰ -->
      <view class="mt-6">
        <wd-text text="å®˜æ–¹é“¾æ¥" size="16px" color="#000" :bold="true" class="mb-3 block" />
        <view class="grid grid-cols-3 gap-3">
          <view
            v-for="link in coinDetailInfo.officialLinks"
            :key="link.name"
            class="flex items-center justify-center rounded-full border border-gray-200 bg-white px-3 py-2 active:bg-gray-100"
          >
            <wd-text :text="link.icon" size="14px" class="mr-1" />
            <wd-text :text="link.name" size="14px" color="#333" />
          </view>
        </view>
      </view>

      <!-- ç¤¾äº¤åª’ä½“ -->
      <!-- <view class="mt-6">
        <wd-text text="ç¤¾äº¤åª’ä½“" size="16px" color="#000" :bold="true" class="mb-3 block" />
        <view class="grid grid-cols-4 gap-3">
          <view
            v-for="link in coinDetailInfo.socialLinks" :key="link.name"
            class="min-h-[80px] flex flex-col items-center justify-center rounded-lg bg-gray-50 p-3 transition-colors active:bg-gray-200"
          >
            <wd-text :text="link.icon" size="24px" />
            <wd-text :text="link.name" size="12px" color="#666" class="mt-1" />
          </view>
        </view>
      </view> -->

      <!-- BTCç®€ä»‹ -->
      <view class="mt-6 leading-relaxed">
        <wd-text :text="`${coinDetailInfo.code}ç®€ä»‹`" size="16px" color="#000" :bold="true" class="mb-3 block" />
        <wd-text :text="coinDetailInfo.description" size="14px" color="#666" class="leading-relaxed" />
      </view>
    </view>

    <!-- å…¶ä»–å­æ ‡ç­¾å†…å®¹ï¼ˆå·²æ³¨é‡Šï¼‰ -->
    <!-- <view v-else class="px-4 py-4">
      <wd-text :text="`${overviewTabList[overviewTabIndex].title} å†…å®¹`" size="14px" color="#666" />
    </view> -->
  </view>
</template>

<style scoped lang="scss">
/* æ— éœ€é¢å¤–æ ·å¼ï¼Œå·²ä½¿ç”¨ UnoCSS */
</style>
